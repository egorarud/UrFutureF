const themeBtn=document.querySelector(".header__theme"),body=document.body;function select(){class e{static EL="itc-select";static EL_SHOW="itc-select_show";static EL_OPTION="itc-select__option";static EL_OPTION_SELECTED="itc-select__option_selected";static DATA="[data-select]";static DATA_TOGGLE='[data-select="toggle"]';static template(t){const{name:e,options:s,targetValue:c}=t,i=[];let o=-1,l="",r="Выберите из списка";return s.forEach((t,e)=>{let s="";t[0]===c&&(s=" "+this.EL_OPTION_SELECTED,o=e,l=t[0],r=t[1]),i.push(`<li class="itc-select__option${s}" data-select="option"
              data-value="${t[0]}" data-index="${e}">${t[1]}</li>`)}),`<button type="button" class="itc-select__toggle" name="${e}"
            value="${l}" data-select="toggle" data-index="${o}">
            ${r}</button><div class="itc-select__dropdown">
            <ul class="itc-select__options">${i.join("")}</ul></div>`}static hideOpenSelect(){document.addEventListener("click",t=>{t.target.closest("."+this.EL)||document.querySelectorAll("."+this.EL_SHOW).forEach(t=>{t.classList.remove(this.EL_SHOW)})})}static create(t,e){return this._el="string"==typeof t?document.querySelector(t):t,this._el?new this(t,e):null}constructor(t,e){this._el="string"==typeof t?document.querySelector(t):t,this._params=e||{},this._onClickFn=this._onClick.bind(this),this._params.options&&(this._el.innerHTML=this.constructor.template(this._params),this._el.classList.add(this.constructor.EL)),this._elToggle=this._el.querySelector(this.constructor.DATA_TOGGLE),this._el.addEventListener("click",this._onClickFn)}_onClick(t){var t=t["target"],e=t.closest(this.constructor.DATA).dataset.select;"toggle"===e?this.toggle():"option"===e&&this._changeValue(t)}_updateOption(t){var t=t.closest("."+this.constructor.EL_OPTION),e=this._el.querySelector("."+this.constructor.EL_OPTION_SELECTED);return e&&e.classList.remove(this.constructor.EL_OPTION_SELECTED),t.classList.add(this.constructor.EL_OPTION_SELECTED),this._elToggle.innerHTML=t.innerHTML,this._elToggle.value=t.dataset.value,this._elToggle.dataset.index=t.dataset.index,this._el.dispatchEvent(new CustomEvent("itc.select.change")),this._params.onSelected&&this._params.onSelected(this,t),t.dataset.value}_reset(){var t=this._el.querySelector("."+this.constructor.EL_OPTION_SELECTED);return t&&t.classList.remove(this.constructor.EL_OPTION_SELECTED),this._elToggle.textContent="Выберите из списка",this._elToggle.value="",this._elToggle.dataset.index="-1",this._el.dispatchEvent(new CustomEvent("itc.select.change")),this._params.onSelected&&this._params.onSelected(this,null),""}_changeValue(t){t.classList.contains(this.constructor.EL_OPTION_SELECTED)||(this._updateOption(t),this.hide())}show(){document.querySelectorAll(this.constructor.EL_SHOW).forEach(t=>{t.classList.remove(this.constructor.EL_SHOW)}),this._el.classList.add(""+this.constructor.EL_SHOW)}hide(){this._el.classList.remove(this.constructor.EL_SHOW)}toggle(){this._el.classList.contains(this.constructor.EL_SHOW)?this.hide():this.show()}dispose(){this._el.removeEventListener("click",this._onClickFn)}get value(){return this._elToggle.value}set value(e){let s=!1;this._el.querySelectorAll(".select__option").forEach(t=>{t.dataset.value===e&&(s=!0,this._updateOption(t))}),s||this._reset()}get selectedIndex(){return this._elToggle.dataset.index}set selectedIndex(t){t=this._el.querySelector(`.select__option[data-index="${t}"]`);t&&this._updateOption(t),this._reset()}}e.hideOpenSelect();let s=0;var t=document.querySelectorAll(".js-select");t&&t.forEach(function(t){s++,t.classList.add("js-select"+s);new e(".js-select"+s)})}themeBtn&&themeBtn.addEventListener("click",()=>{body.classList.contains("theme-day")?(body.classList.remove("theme-day"),body.classList.add("theme-night")):(body.classList.remove("theme-night"),body.classList.add("theme-day"))}),document.querySelectorAll(".toggle-password").forEach(t=>{t.addEventListener("click",function(t){t.preventDefault(),this.classList.toggle("no-eye");var t=this.parentNode.querySelector(".input-password"),e="password"===t.getAttribute("type")?"text":"password";t.setAttribute("type",e)})}),document.addEventListener("click",function(t){var e;t.target.classList.contains("js-formSubmit")&&(t.preventDefault(),e=(t=t.target.closest(".js-form")).querySelectorAll(".js-formCheck, .js-formCheckbox"),t.querySelectorAll(".js-formGroup").forEach(function(t){t.classList.remove("error")}),e.forEach(function(t){(t.classList.contains("js-formCheck")&&""===t.value.trim()||t.classList.contains("js-formCheckbox")&&!t.checked)&&t.closest(".js-formGroup").classList.add("error")}),t.querySelector(".js-formGroup.error")||t.submit())}),select();